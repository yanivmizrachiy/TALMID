# כללים — האתר החדש (הפרדה מוחלטת)

## מטרה
הקובץ הזה הוא “דף כללים חי” עבור **האתר החדש** בלבד, כדי שיהיה תמיד ברור:
- מה דרשת
- מה מותר ומה אסור
- איך לשמור על הפרדה מוחלטת מהמערכת הקיימת

## כלל ברזל: אין בלבול
- כל מה ששייך לאתר החדש נמצא **רק** תחת התיקייה: `אתר חדש/`.
- אסור ליצור תלות כלשהי בין האתר החדש לבין הפרויקט הקיים (קבצים, נתיבים, לוגיקה, שרת, תבניות).
- לא משתמשים בשום HTML/CSS/JS/Backend קיים של המערכת הישנה.

## מה האתר מציג (ורק זה)
מותר להציג רק:
- שמות תלמידים
- שמות מורים
- שמות הקבצות
- מוני תלמידים (מחושבים מאורך המערכים)

אסור להציג:
- ציונים
- הערות/הערות מורה
- מזהים/מספרי תלמיד
- מידע רגיש נוסף מעבר לשמות

## שפה וכיוון
- ממשק בעברית בלבד.
- `dir="rtl"` בכל הדפים.
- לא להציג טקסט באנגלית למשתמש.

## טכנולוגיה וביצועים
- אתר סטטי בלבד: Vanilla HTML/CSS/JS.
- אין ספריות ואין תלותים.
- אין CSS/JS inline (רק קבצים נפרדים).
- `<script defer>` בלבד.
- ניווט מהיר בין דפים: טעינת JSON נשמרת זמנית ב־sessionStorage (כ־90 שניות) כדי לקצר זמני מעבר.
- עדכון “תמיד מעודכן” נשמר: אחרי תפוגת ה־TTL או פתיחת טאב חדש, הנתונים נטענים מחדש מהשרת.
- cache-bust יציב בטאב (כ־10 דקות) כדי לאפשר revalidation מהיר (304) ולמנוע מצב של cache ישן.
- אין prefetch קבוע ל־JSON ב־HTML (כדי להימנע מהורדות כפולות). ה־prefetch נשמר רק לניווט בין דפים.
- אנימציית מעבר קצרה מאוד בין דפים (כ־120–140ms), ומכבדת `prefers-reduced-motion`.
- מובייל תחילה, כפתורים ידידותיים למגע (גובה 44px+).
- טבלאות בסגנון אקסל, לבן, גבולות דקים, בלי גלילה אופקית במובייל.

## עיצוב (צבעי “פרימיום”)
- העיצוב נשלט דרך משתני CSS ב־`css/main.css`.
- מותר לשנות צבעים/גרדיאנטים/עידון טיפוגרפי רק בתוך האתר החדש.
- לא משנים את עיצוב המערכת הישנה ולא יוצרים תלות בסגנונות שלה.
- בעמוד הכניסה: הכפתורים מיושרים למרכז, ולכל שכבה יש מסגרת בצבע שונה (ז/ח/ט): ורוד / ירוק / כתום.
- צבעי השכבות (ז/ח/ט) משמשים גם בכותרות/גרדיאנטים בשאר הדפים, כדי לשמור על עקביות.

## מוכנות לנייד (חובה)
- האתר החדש חייב להיות ערוך לפתיחה מעולה בטלפון נייד (Mobile-first).
- אין להסתמך על Hover/עכבר — כל פעולה חייבת להיות נוחה במגע.
- אין גלילה אופקית במובייל.
- כפתורים וקישורים: יעד לחיצה בגובה מינימום 44px.
- עמוד הכניסה (Home) משתמש בפריסה מלאה לגובה המסך כדי לנצל שטח ולשפר קריאות.

## קבצי האתר (המקור האמיתי של האתר החדש)
- HTML: `index.html`, `grade.html`, `group.html`
- CSS: `css/main.css`
- JS: `js/app.js`
- טקסטים: `data/config.json` (אסור לקודד כותרות קשיח ב־HTML)
- נתונים: `data/data.json`
- תיעוד מלא של הדרישות המקוריות: `RULES.md`

## נתונים — קריאה בלבד ושמות בלבד
- `data/data.json` מכיל **שמות בלבד** בתוך `students[]`.
- כל המונים באתר מחושבים דינמית מתוך אורך המערכים.
- אם אין מידע אמיתי בטוח — חייבים להשאיר מערכים ריקים `[]`.
- אם מופיע שם פרטי בלבד והשם המלא ידוע/אושר במפורש — משלימים לשם מלא כדי למנוע בלבול וכפילויות.

### מקור הנתונים
הנתונים באתר החדש נגזרים מקבצי CSV קיימים בפרויקט, אבל:
- אנו מחלצים ומעתיקים רק שמות (`full_name` או `first_name + last_name`).
- לא מעתיקים ולא משתמשים בשדות מזהים (כמו `student_id`) או בשדות אחרים.

## תצוגה מקדימה מקומית
- בגלל שימוש ב־`fetch` לטעינת JSON, פתיחה כ־`file://` עלולה לא לעבוד.
- יש לפתוח דרך שרת מקומי (לדוגמה `python -m http.server`).

## קישור קבוע (GitHub Pages)
כדי לפתוח את האתר מכל מכשיר באמצעות קישור חיצוני קבוע, משתמשים ב־GitHub Pages.

תנאי:
- GitHub Pages חייב להיות מופעל בהגדרות הריפו (Settings → Pages).
- מקור פריסה מומלץ: **GitHub Actions** (יש Workflow שמפרסם אוטומטית את `אתר חדש/` בכל `push`).

קישורים קבועים:
- קישור קצר (מומלץ): `https://yanivmizrachiy.github.io/TALMID/`
- קישור ישיר לתיקייה (עדיין עובד): `https://yanivmizrachiy.github.io/TALMID/%D7%90%D7%AA%D7%A8%20%D7%97%D7%93%D7%A9/`

אם Pages מוגדרים אחרת (למשל תיקיית מקור אחרת), הקישור ישתנה בהתאם.

## שינוי עתידי (איך לעבוד נכון)
- כל שינוי באתר החדש מתבצע רק בתוך `אתר חדש/`.
- אם מוסיפים נתונים — מעדכנים רק את `data/data.json` ומוודאים שזה **שמות בלבד**.
- לא משנים שום קובץ במערכת הישנה כדי “לתמוך” באתר החדש.

## החלטות תפעול (חובה לתעד כאן)
- כלל: כל החלטה/שינוי בהתנהגות האתר החדש מתועדת בעמוד זה כדי שלא יהיה בלבול.

### מצב עבודה: “אוטומט”
- ברירת מחדל: אחרי כל שינוי בקבצי האתר החדש מבצעים אוטומטית `git add` + `git commit` + `git push` כדי שהעדכון יעלה מיד ל־GitHub Pages.
- אם תרצה לעצור מצב “אוטומט” — אתה אומר במפורש, ואז נעבור למצב ידני.
